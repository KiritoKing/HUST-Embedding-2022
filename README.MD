# HUST_EMBED_DEV_2022

Code for Embedding Device Course of HUST 2022

华中科技大学2022学年冬季学期《嵌入式系统》课程全部实现代码

## 运行方法

1. 修改`./common/rule.mk`中`CC`字段到自己的GCC地址
2. 在`./`下运行`make`（一定是Linux环境下~~推荐使用WSL~~）
3. 将`./out`在开发板中运行（可能需要修改权限使之可以运行，详情搜索chmod）

## 实验说明

#### lab 1

一个简单的Hello World，用于检验环境是否搭建成功

#### lab 2

在显示屏上渲染矢量图形和文字

开发任务：完成`graphic.c`里`fb_***()`相关的函数

#### lab 3

读取RGB图片并显示在屏幕上

开发任务：完成`graphic.c`里`fb_***()`相关的函数

#### lab 4

了解触控协议，完成一个基于多点触控的程序（本程序是显示触点）

开发任务：修改main.c中`touch_event_cb()`代码实现功能

**注意：不同设备event编号可能不同，请先使用`cat /dev/input/event*`（*可能为0/1/2）尝试，若成功则触摸时会打印乱码**

#### lab 5

了解蓝牙模块，完成蓝牙设备互通。

任务内容：开发板连接另一客户端（开发板/手机），发送和接收文本消息

**本实验不需要编写代码，只需要根据课件进行蓝牙设置。注意需要调整触控事件编号！**

#### lab 6

大作业任务，本实验选择的是单机图片播放器。

实现的的功能有：

- 接收触控信号，实现图片的拖拽、缩放和切换
- 支持显示大于屏幕的图片，可以移动显示窗口
- 通过*最临近插值法*实现图片的放大与缩小
- 初始化时检测到图片大于屏幕会自动缩放至合适大小，若图片小于屏幕则居中显示
- 若图像大小小于屏幕大小，拖拽操作变为切换不同图片

具体实现详见./lab6中README

#### 其他程序

- test：老师提供的性能测试程序
- clear：简单的清空屏幕程序
- common：老师提供的基础框架